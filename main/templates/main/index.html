{% extends "main/base.html" %}

{% block title %}상명대학교{% endblock %}

{% block content %}
<section>
  <h1>메인 페이지</h1>
  <p>환영합니다! 이곳은 메인 페이지입니다.</p>
</section>

<section id="notice" style="background-color: white; color: #333; display: flex; gap: 40px; padding: 40px;">
  <!-- 검색 -->
  <div style="flex: 1;">
    <h2 style="font-size: 2em; line-height: 1.5;">그대, 상명을 원천으로<br>세상에 솟는 샘물 되어라.</h2>
    <form action="/notice/search" method="get" style="margin-top: 30px;">
      <div style="display: flex; margin: 20px 0;">
        <input type="text" name="q" value="{{ query }}" placeholder="검색" style="flex: 1; padding: 10px; border: 1px solid #ccc; background: white; color: #333;">
        <button style="background: #0d47a1; color: white; border: none; padding: 10px 20px; cursor: pointer;">검색</button>
      </div>
    </form>
  </div>

  <!-- 통합공지 -->
  <div style="flex: 2;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h2 style="font-size: 2em; margin: 0;">통합공지</h2>
      <a href="/noticelist" style="color: #666; font-size: 0.9em; text-decoration: none;">더보기</a>
    </div>

    <ul style="list-style: none; padding: 0;">
      {% for notice in notices %}
      <li style="padding: 10px 0; border-bottom: 1px solid #ddd;">
        <a href="/notice?id={{ notice.id }}" style="text-decoration: none; color: #0d47a1; font-size: 1.1em;">
          {{ notice.title }}
        </a>
        <div style="font-size: 0.9em; color: #888; margin-top: 4px;">
          작성자: {{ notice.author }} | 작성일: {{ notice.created_at|date:"Y-m-d" }}
        </div>
      </li>
      {% empty %}
      <li>공지사항이 없습니다.</li>
      {% endfor %}
    </ul>
  </div>
</section>
{% endblock %}
